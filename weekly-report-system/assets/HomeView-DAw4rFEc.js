import{d as x,u as A,c as y,o as V,a as n,b as a,e as t,w as s,r as u,f as l,g as f,h as F,t as d,i as P,j as R,F as C,k as j,l as _,m as B,n as D,s as E,_ as N}from"./index-DRy33ewS.js";const T={class:"home-view"},H={class:"stat-content"},U={class:"stat-icon"},q={class:"stat-info"},I={class:"stat-content"},L={class:"stat-icon"},M={class:"stat-info"},W={class:"stat-content"},G={class:"stat-icon"},J={class:"stat-info"},K={class:"card-header"},O={key:0,class:"empty-state"},Q={key:1},X={class:"report-info"},Y={class:"card-header"},Z={key:0,class:"empty-state"},tt={key:1},et={class:"project-info"},st={class:"quick-actions"},lt=x({__name:"HomeView",setup(ot){const p=A(),b=y(()=>({totalUsers:p.users.length})),S=y(()=>({totalReports:p.reports.length})),$=y(()=>({totalProjects:p.projects.length})),k=y(()=>p.reports.sort((m,e)=>new Date(e.createdAt).getTime()-new Date(m.createdAt).getTime()).slice(0,5)),w=y(()=>p.getActiveProjects.slice(0,5));return V(()=>{p.initializeStore()}),(m,e)=>{const i=u("el-card"),r=u("el-col"),g=u("el-row"),c=u("el-icon"),v=u("el-button"),h=u("el-empty"),z=u("el-tag");return a(),n("div",T,[t(g,{gutter:20},{default:s(()=>[t(r,{span:24},{default:s(()=>[t(i,{class:"welcome-card"},{default:s(()=>[...e[3]||(e[3]=[l("div",{class:"welcome-content"},[l("h1",null,"欢迎使用周报系统"),l("p",null,"管理您的周报，跟踪工作进度")],-1)])]),_:1})]),_:1})]),_:1}),t(g,{gutter:20,style:{"margin-top":"20px"}},{default:s(()=>[t(r,{span:8},{default:s(()=>[t(i,{class:"stat-card"},{default:s(()=>[l("div",H,[l("div",U,[t(c,{size:"40",color:"#409EFF"},{default:s(()=>[t(f(F))]),_:1})]),l("div",q,[l("h3",null,d(b.value.totalUsers),1),e[4]||(e[4]=l("p",null,"总用户数",-1))])])]),_:1})]),_:1}),t(r,{span:8},{default:s(()=>[t(i,{class:"stat-card"},{default:s(()=>[l("div",I,[l("div",L,[t(c,{size:"40",color:"#67C23A"},{default:s(()=>[t(f(P))]),_:1})]),l("div",M,[l("h3",null,d(S.value.totalReports),1),e[5]||(e[5]=l("p",null,"总周报数",-1))])])]),_:1})]),_:1}),t(r,{span:8},{default:s(()=>[t(i,{class:"stat-card"},{default:s(()=>[l("div",W,[l("div",G,[t(c,{size:"40",color:"#E6A23C"},{default:s(()=>[t(f(R))]),_:1})]),l("div",J,[l("h3",null,d($.value.totalProjects),1),e[6]||(e[6]=l("p",null,"总项目数",-1))])])]),_:1})]),_:1})]),_:1}),t(g,{gutter:20,style:{"margin-top":"20px"}},{default:s(()=>[t(r,{span:12},{default:s(()=>[t(i,null,{header:s(()=>[l("div",K,[e[8]||(e[8]=l("span",null,"最近周报",-1)),t(v,{type:"primary",size:"small",onClick:e[0]||(e[0]=o=>m.$router.push("/report-list"))},{default:s(()=>[...e[7]||(e[7]=[_(" 查看全部 ",-1)])]),_:1})])]),default:s(()=>[k.value.length===0?(a(),n("div",O,[t(h,{description:"暂无周报数据"})])):(a(),n("div",Q,[(a(!0),n(C,null,j(k.value,o=>(a(),n("div",{key:o.id,class:"report-item"},[l("div",X,[l("h4",null,d(o.year)+"年第"+d(o.week)+"周",1),l("p",null,d(o.summary),1),t(z,{type:o.status==="submitted"?"success":"warning"},{default:s(()=>[_(d(o.status==="submitted"?"已提交":"草稿"),1)]),_:2},1032,["type"])])]))),128))]))]),_:1})]),_:1}),t(r,{span:12},{default:s(()=>[t(i,null,{header:s(()=>[l("div",Y,[e[10]||(e[10]=l("span",null,"活跃项目",-1)),t(v,{type:"primary",size:"small"},{default:s(()=>[...e[9]||(e[9]=[_(" 管理项目 ",-1)])]),_:1})])]),default:s(()=>[w.value.length===0?(a(),n("div",Z,[t(h,{description:"暂无活跃项目"})])):(a(),n("div",tt,[(a(!0),n(C,null,j(w.value,o=>(a(),n("div",{key:o.id,class:"project-item"},[l("div",et,[l("h4",null,d(o.name),1),l("p",null,d(o.description||"暂无描述"),1),t(z,{type:"success"},{default:s(()=>[...e[11]||(e[11]=[_("进行中",-1)])]),_:1})])]))),128))]))]),_:1})]),_:1})]),_:1}),t(g,{style:{"margin-top":"20px"}},{default:s(()=>[t(r,{span:24},{default:s(()=>[t(i,null,{header:s(()=>[...e[12]||(e[12]=[l("div",{class:"card-header"},[l("span",null,"快速操作")],-1)])]),default:s(()=>[l("div",st,[t(v,{type:"primary",size:"large",onClick:e[1]||(e[1]=o=>m.$router.push("/report-form"))},{default:s(()=>[t(c,null,{default:s(()=>[t(f(B))]),_:1}),e[13]||(e[13]=_(" 填报周报 ",-1))]),_:1}),t(v,{type:"success",size:"large",onClick:e[2]||(e[2]=o=>m.$router.push("/report-list"))},{default:s(()=>[t(c,null,{default:s(()=>[t(f(D))]),_:1}),e[14]||(e[14]=_(" 查看历史 ",-1))]),_:1}),t(v,{type:"info",size:"large"},{default:s(()=>[t(c,null,{default:s(()=>[t(f(E))]),_:1}),e[15]||(e[15]=_(" 系统设置 ",-1))]),_:1})])]),_:1})]),_:1})]),_:1})])}}}),at=N(lt,[["__scopeId","data-v-3d35013a"]]);export{at as default};
